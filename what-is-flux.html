<!doctype html>
<html lang="en">

<meta charset="utf-8">
<title>Fluxxor - What is Flux?</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<meta property="og:image" content="http://fluxxor.com/fluxxor.png">
<meta property="og:site_name" content="Fluxxor">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="">
<meta name="twitter:title" content="Fluxxor">
<meta name="twitter:description" content="Fluxxor is a set of tools to facilitate building JavaScript data layers using the Flux architecture.">
<meta name="twitter:creator" content="BinaryMuse">
<meta name="twitter:image:src" content="http://fluxxor.com/fluxxor.png">
<meta name="twitter:domain" content="">
<meta name="twitter:app:name:iphone" content="">
<meta name="twitter:app:name:ipad" content="">
<meta name="twitter:app:name:googleplay" content="">
<meta name="twitter:app:url:iphone" content="">
<meta name="twitter:app:url:ipad" content="">
<meta name="twitter:app:url:googleplay" content="">
<meta name="twitter:app:id:iphone" content="">
<meta name="twitter:app:id:ipad" content="">
<meta name="twitter:app:id:googleplay" content="">
<link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/default.min.css">
<script src="http://cdnjs.cloudflare.com/ajax/libs/es5-shim/3.4.0/es5-shim.min.js"></script>
<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link rel="stylesheet" type="text/css" href="/style/main.css">

<a class="github-banner" href="https://github.com/BinaryMuse/fluxxor"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>

<div class="wrapper">
  <header>
    <div class="logo-container-sidebar">
      <a href="/"><img src="/fluxxor.svg" alt="Fluxxor" title="Fluxxor" class="logo-svg"></a>
    </div>
    <div class="show-hide-nav">
      <a href="#" class="show-nav">Show Navigation</a>
      <a href="#" class="hide-nav">Hide Navigation</a>
    </div>
    <div class="nav-list">
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/what-is-flux.html">What is Flux?</a></li>
        <li><a href="/guides/">Guides</a></li>
        <ul>
          <li><a href="/guides/installation.html">Installation</a></li>
          <li><a href="/guides/quick-start.html">Quick-Start Guide</a></li>
          <li><a href="/guides/async-data.html">Dealing with Asynchronous Data</a></li>
        </ul>
        <li><a href="/examples/">Examples</a></li>
        <ul>
          <li><a href="/guides/quick-start.html">Basic Todos</a></li>
          <li><a href="/examples/carousel/">Image Carousel</a></li>
          <li><a href="/guides/async-data.html">Asynchronous Data</a></li>
        </ul>
        <li><a href="/documentation/">Documentation</a></li>
        <ul>
          <li><a href="/documentation/flux.html">Fluxxor.Flux</a></li>
          <li><a href="/documentation/stores.html">Stores</a></li>
          <li><a href="/documentation/actions.html">Actions</a></li>
          <li><a href="/documentation/flux-mixin.html">Fluxxor.FluxMixin</a></li>
          <li><a href="/documentation/store-watch-mixin.html">Fluxxor.StoreWatchMixin</a></li>
        </ul>
        <li><a href="/faq.html">FAQ</a></li>
        <li><a href="/changelog.html">Changelog</a></li>
        <li><a href="https://github.com/BinaryMuse/fluxxor">View on GitHub</a></li>
      </ul>
      <p>
        <a href="https://gitter.im/BinaryMuse/fluxxor">Support and chat on Gitter</a><br>
        <a href="https://gitter.im/BinaryMuse/fluxxor"><img src="https://badges.gitter.im/BinaryMuse/fluxxor.png"></a>
      </p>
    </div>
    <div class="sidebar-info">
      <hr>
      <p>Copyright &copy; 2014 <a href="https://github.com/BinaryMuse/">Brandon Tilley</a><br>
      Licensed under <a href="http://opensource.org/licenses/MIT">the MIT license</a></p>
    </div>
  </header>
  <section>
    <h1 id="what-is-flux-">What is Flux?</h1>
<p>Flux is an architecture for creating data layers in JavaScript applications. It was designed at Facebook along with the <a href="http://facebook.github.io/react/">React</a> view library. It places a focus on creating <strong>explicit and understandable update paths</strong> for your application&#39;s data, which makes <strong>tracing changes during development simpler</strong> and makes <strong>bugs easier to track down and fix</strong>.</p>
<p>Fluxxor is an implementation of the flux architecture pattern.</p>
<h2 id="overview">Overview</h2>
<p>To best describe flux, we will compare it to one of the leading client-side architectures: MVC. In a client-side MVC application, a user interaction triggers code in a controller. The controller knows how to coordinate changes to one or more models by calling methods on the models. When the models change, they notify one or more views, which in turn read the new data from the models and update themselves accordingly so that the user can see that new data.</p>
<figure>
<img src="/images/mvc-simple.png?1" alt="Simple MVC">
<figcaption>A simple MVC flow</figcaption>
</figure>

<p>As an MVC application grows and controllers, models, and views are added, the dependencies become more complex.</p>
<figure>
<img src="/images/mvc-complex.png?1" alt="Complex MVC">
<figcaption>A more complex MVC flow</figcaption>
</figure>

<p>With the addition of just three views, one controller, and one model, the dependency graph is already harder to trace. When the user interacts with the UI, multiple branching code paths are executed, and debugging problems in application state becomes an exercise in figuring out which module (or modules) in one (or more) of these potential code paths contains a bug. In the worst cases, a user interaction will trigger updates which in turn trigger additional updates, resulting in error-prone and difficult-to-debug cascading effects along several of these, sometimes overlapping, paths.</p>
<p>Flux eschews this design in favor of a one-way data flow. All user interactions within a view call an <em>action creator</em>, which causes an <em>action</em> event to be emitted from a singleton <em>dispatcher</em>. The dispatcher is a single-point-of-emission for all actions in a flux application. The action is sent from the dispatcher to <em>stores</em>, which update themselves in response to the action.</p>
<figure>
<img src="/images/flux-simple.png?1" alt="Simple Flux">
<figcaption>A simple flux flow</figcaption>
</figure>

<p>The flow doesn&#39;t change significantly for additional stores or views. The dispatcher simply sends every action to <em>all</em> the stores in the application. Note that it does not contain knowledge about how to actually update the storesâ€”the stores themselves contain this business logic. Each store is responsible for a domain of the application, and only update themselves in response to actions.</p>
<figure>
<img src="/images/flux-complex.png?1" alt="Complex Flux">
<figcaption>A more complex flux flow</figcaption>
</figure>

<p>When a store updates, it emits a change event. In many React applications, special views (known sometimes as &quot;controller-views&quot;) are responsible for watching for this change event, reading the stores&#39; new data, and passing that data through properties to child views. It&#39;s not uncommon in a React application for a store change event to trigger a re-render of the top-level view, effectively re-rendering the entire view hierarchy (which React handles in an efficient manner). This completely avoids complex bugs and performance problems that can arise out of trying to watch for specific property changes on models and modifying parts of views only slightly.</p>
<h2 id="key-properties">Key Properties</h2>
<p>The flux architecture has a few key properties that make it unique and provide important guarantees, all of which are centered around making the flow of data explicit and easily understandable and increasing the locality of bugs (so that you don&#39;t have to hunt down many code paths to find incorrect logic). There are many flux and flux-like implementations available; these properties are, to me, most important to the flux architecture.</p>
<h3 id="enforced-synchrony">Enforced Synchrony</h3>
<p>Action dispatches and their handlers inside the stores are synchronous. All asynchronous operations should trigger an action dispatch that tells the system about the result of the operation (see the <a href="/guides/async-data.html">async data guide</a> for more details). While action creators can call out to asynchronous APIs, action handlers in the stores will ideally not do so. This rule makes the flow of information in the application extremely explicit; debugging errors in application state simply involves figuring out which action caused the bad state and then finding the incorrect logic that responded to that action.</p>
<h3 id="inversion-of-control">Inversion of Control</h3>
<p>Since stores update themselves internally in response to actions (rather than being updated from outside by a controller or a similar module), no other piece of the system needs to know how to modify the application&#39;s state. All the logic for updating the state is contained within the store itself. And, since stores only ever update in response to actions, and only synchronously, testing stores simply becomes a matter of putting them in an initial state, sending them an action, and testing to see if they&#39;re in the correct final state.</p>
<h3 id="semantic-actions">Semantic Actions</h3>
<p>Since the stores need to update themselves in response to actions, the actions tend to be semantically descriptive. For example, in a flux forum application, to mark a thread as read, you might dispatch an action with a type of <code>MARK_THREAD_READ</code>. The action (and the component generating the action) doesn&#39;t know <em>how</em> to perform the update, but <em>describes</em> what it wants to happen.</p>
<p>Because of this property, you rarely have to change your action types, only how the stores respond to them. As long as your application has a concept of a &quot;thread&quot; and you have a button or other interaction that should mark a thread as read, the <code>MARK_THREAD_READ</code> action type is semantically valid.</p>
<h3 id="no-cascading-actions">No Cascading Actions</h3>
<p>Flux disallows dispatching a second action as a result of dispatching an action. This helps prevent hard-to-debug cascading updates and helps you think about interactions in your application in terms of semantic actions.</p>
<h2 id="further-reading">Further Reading</h2>
<p>For a more in-depth look at the Flux architecture, check out <a href="http://facebook.github.io/flux/docs/overview.html">Flux Application Architecture</a> on the official Flux site, and be sure to check out <a href="https://www.youtube.com/watch?v=nYkdrAPrdcw">Rethinking Web App Development at Facebook</a> from F8 on YouTube to hear Jing Chen talk more about Flux.</p>
<h2 id="ready-to-try-it-out-">Ready to Try it Out?</h2>
<p>Check out the <a href="/guides/installation.html">installation</a> and <a href="/guides/quick-start.html">getting started</a> guides to get up and running with Fluxxor!</p>

    <hr>
    See a typo? Something still not clear?
    <a href="https://github.com/BinaryMuse/fluxxor/issues/new">Report an issue on GitHub</a>.
  </section>

  <div class="footer-info">
    <hr>
    <p>Copyright &copy; 2014 <a href="https://github.com/BinaryMuse/">Brandon Tilley</a><br>
    Licensed under <a href="http://opensource.org/licenses/MIT">the MIT license</a><br>
    <a href="https://github.com/BinaryMuse/fluxxor">Available on GitHub</a></p>
  </div>
</div>

<script>
document.querySelectorAll(".show-nav")[0].addEventListener("click", function(ev) {
  ev.preventDefault();
  document.querySelectorAll(".nav-list")[0].style.display = 'block';
  document.querySelectorAll(".show-nav")[0].style.display = 'none';
  document.querySelectorAll(".hide-nav")[0].style.display = 'block';
});

document.querySelectorAll(".hide-nav")[0].addEventListener("click", function(ev) {
  ev.preventDefault();
  document.querySelectorAll(".nav-list")[0].style.display = 'none';
  document.querySelectorAll(".show-nav")[0].style.display = 'block';
  document.querySelectorAll(".hide-nav")[0].style.display = 'none';
});
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51086297-1', 'fluxxor.com');
  ga('require', 'displayfeatures');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>
<script>
  function appendAnchorSymbol(el, id) {
    var anchor = document.createElement("a");
    anchor.setAttribute("href", "#" + id);
    anchor.setAttribute("class", "anchor-symbol");
    anchor.innerHTML = "&para;";
    el.appendChild(anchor);
  }

  var hs = document.querySelectorAll("h1,h2,h3,h4,h5,h6"),
      h, id;
  for (var i = 0; i < hs.length; i++) {
    h = hs[i];
    id = h.getAttribute("id");
    if (id) {
      appendAnchorSymbol(h, id);
    }
  }
</script>

</html>
